/* =================================== */
/* 1. 이미지에서 제공된 부분 */
/* =================================== */

body {
    place-content: center;
    overflow-x: hidden;
    margin: 0;
    height: 100vh;
    perspective: 35em;
    background: #000014;
    display: grid; /* place-content: center가 작동하도록 추가 */
}

div {
    transform-style: preserve-3d;
}

.a3d {
    --m: calc(.5*(var(--n-stars) - 1));
    --t: calc(0.3333*var(--n-stars)*0.1s);
    animation: roty 12s linear var(--t) infinite reverse;
}

/* =================================== */
/* 2. 누락된 3D 트리의 모양 및 위치 지정 */
/* =================================== */

.tree {
    /* 트리를 감싸는 컨테이너 */
    width: 0;
    height: 0;
    position: relative;
    /* .a3d의 애니메이션 지연 시간을 활용하여 전체 트리가 회전하는 효과를 만듭니다. */
}

.a3d {
    /* 모든 별의 기준 위치 */
    position: absolute;
    width: 0.25em; /* 별의 기본 크기 */
    height: 0.25em;
    background: #fff;
    border-radius: 50%;
    
    /* 별의 3D 위치를 계산하여 원뿔(트리) 형태로 배열합니다. */
    /* var(--i)는 HTML에서 설정한 1부터 30까지의 인덱스입니다. */
    transform: 
        /* Y축 회전을 통해 원형으로 배치 */
        rotateY(calc(var(--i) * 360deg / var(--n-stars)))
        /* Z축 이동을 통해 원뿔의 반지름을 조절 (트리의 폭 결정) */
        translateZ(calc(var(--m) * 0.7vmin))
        /* X축 회전을 통해 별을 정면으로 향하게 함 */
        rotateX(90deg)
        /* Y축 이동을 통해 별을 위아래로 쌓아 트리 높이를 만듦 (i가 클수록 위로) */
        translateY(calc(var(--i) * 0.7em - 10em))
        /* 별 자체를 약간 회전시켜 반짝이는 모양을 만듦 */
        rotate(calc(var(--i) * 10deg)); 
        
    /* 별이 빛나는 효과 */
    box-shadow: 0 0 5px 2px rgba(255, 255, 255, 0.7);
}

/* 별 모양을 십자 형태로 만듭니다. */
.a3d::before, .a3d::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    background: #fff;
    transform: translate(-50%, -50%);
    box-shadow: inherit;
    border-radius: inherit;
}

.a3d::before {
    width: 300%;
    height: 100%;
    transform: translate(-50%, -50%) rotate(45deg);
}

.a3d::after {
    width: 100%;
    height: 300%;
    transform: translate(-50%, -50%) rotate(45deg);
}

/* =================================== */
/* 3. 누락된 애니메이션 키프레임 정의 */
/* =================================== */

@keyframes roty {
    to {
        /* Y축을 중심으로 360도 회전 */
        transform: rotateY(360deg);
    }
}
